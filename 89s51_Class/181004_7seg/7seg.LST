C51 COMPILER V9.01   7SEG                                                                  10/04/2018 11:13:58 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE 7SEG
OBJECT MODULE PLACED IN 7seg.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE 7seg.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include<reg51.h>
   2          #define seg7 P2
   3          sbit seg7dp = P2^7;
   4          /*
   5          接線說明:
   6          a -> P2.0 (P2^0)
   7          b -> P2.1
   8          依序a,b,c,d,e,f,g......
   9          最後為dp -> P2.7
  10          */
  11          void segShow(int number,int dotEnable);
  12          void delay(int ms);
  13          void main(){
  14   1              while(1){
  15   2                      segShow(0,1);delay(300);
  16   2                      segShow(1,1);delay(300);
  17   2                      segShow(2,1);delay(300);
  18   2                      segShow(3,1);delay(300);
  19   2                      segShow(4,1);delay(300);
  20   2                      segShow(5,1);delay(300);
  21   2                      segShow(6,1);delay(300);
  22   2                      segShow(7,1);delay(300);
  23   2                      segShow(8,1);delay(300);
  24   2                      segShow(9,1);delay(300);
  25   2                      segShow(-1,1);delay(1000);
  26   2                      segShow(0,0);delay(300);
  27   2                      segShow(1,0);delay(300);
  28   2                      segShow(2,0);delay(300);
  29   2                      segShow(3,0);delay(300);
  30   2                      segShow(4,0);delay(300);
  31   2                      segShow(5,0);delay(300);
  32   2                      segShow(6,0);delay(300);
  33   2                      segShow(7,0);delay(300);
  34   2                      segShow(8,0);delay(300);
  35   2                      segShow(9,0);delay(300);
  36   2                      segShow(-1,1);delay(1000);
  37   2              }
  38   1      }
  39          
  40          void delay(int ms){
  41   1              int i,j;
  42   1              for(i = 0;i < ms;i++)
  43   1                      for(j=0;j<120;j++);//do null
  44   1      }
  45          
  46          void segShow(int number,int dotEnable){
  47   1              switch(number){
  48   2                      case 0:
  49   2                              seg7 = 0xc0;
  50   2                              break;
  51   2                      case 1:
  52   2                              seg7 = 0xf9;
  53   2                              break;
  54   2                      case 2:
  55   2                              seg7 = 0xa4;
C51 COMPILER V9.01   7SEG                                                                  10/04/2018 11:13:58 PAGE 2   

  56   2                              break;
  57   2                      case 3:
  58   2                              seg7 = 0xb0;
  59   2                              break;
  60   2                      case 4:
  61   2                              seg7 = 0x99;
  62   2                              break;
  63   2                      case 5:
  64   2                              seg7 = 0x92;
  65   2                              break;
  66   2                      case 6:
  67   2                              seg7 = 0x82;
  68   2                              break;
  69   2                      case 7:
  70   2                              seg7 = 0xf8;
  71   2                              break;
  72   2                      case 8:
  73   2                              seg7 = 0x80;
  74   2                              break;
  75   2                      case 9:
  76   2                              seg7 = 0x98;
  77   2                              break;
  78   2                      default:
  79   2                              seg7 = 0xff;
  80   2                              break;
  81   2              }
  82   1              if(dotEnable == 0) seg7dp = 0;
  83   1              else seg7dp = 1;
  84   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    442    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
