C51 COMPILER V9.01   4DIGIT_7SEG                                                           10/04/2018 14:42:10 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE 4DIGIT_7SEG
OBJECT MODULE PLACED IN 4digit_7seg.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE 4digit_7seg.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include<reg51.h>
   2          #define seg7 P0
   3          #define scan7seg P2
   4          sbit seg7dp = P0^7;
   5          char seg7hexCode[16] = {0xc0,0xf9,0xa4,0xb0,0x99,0x92,0x82,0xf8,0x80,0x98};
   6          int seg7number = 0;
   7          char scan7segCode[4] = {0xf7,0xfb,0xfd,0xfe};//使用char比int節省空間
   8          char show8051[4] = {8,0,5,1};
   9          /*
  10          接線說明:
  11          a -> P0.0 (P0^0) a為LSB(最低位元)
  12          b -> P0.1
  13          依序a,b,c,d,e,f,g......
  14          最後為dp -> P0.7 dp為MSB(最高位元)
  15          D0 -> P2^0為LSB
  16          依序接線
  17          D3 -> P2^0為MSB
  18          */
  19          void delay(int ms);
  20          void main(){
  21   1              int i;
  22   1              int time = 0;
  23   1              while(1){
  24   2                      seg7 = seg7hexCode[seg7number];//show number on 7Seg
  25   2                      while(time <= 500){
  26   3                              for(i = 0;i<4;i++){
  27   4                                      scan7seg = scan7segCode[i];
  28   4                                      seg7 = seg7hexCode[show8051[i]];
  29   4                                      delay(2);
  30   4                                      time +=2;
  31   4                              }
  32   3                      }
  33   2                      time = 0;
  34   2                      seg7 = 0xff;
  35   2                      delay(500);
  36   2              }
  37   1      }
  38          
  39          void delay(int ms){
  40   1              int i,j;
  41   1              for(i = 0;i < ms;i++)
  42   1                      for(j=0;j<120;j++);//do null
  43   1      }
  44          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    147    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     26       4
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.

C51 COMPILER V9.01   4DIGIT_7SEG                                                           10/04/2018 14:42:10 PAGE 2   


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
